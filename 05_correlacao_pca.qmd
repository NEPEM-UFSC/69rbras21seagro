---
title: "04: MGIDI para seleção de genótipos de Linum usitatissimum no melhoramento genético vegetal"
---

```{r global_options, include = FALSE}
knitr::opts_chunk$set(cache = FALSE,
                      comment = "##",
                      collapse = TRUE,
                      warning = FALSE,
                      message = FALSE)

```


# Pacotes

```{r warning=FALSE, message=FALSE}
library(rio)
library(tidyverse)
library(factoextra)
library(metan)


dfgens <- 
  import("data/dados_labfoto.xlsx") |> 
  group_by(GEN) |> 
  summarise(across(AP:NG, \(x){mean(x, na.rm = TRUE)})) |> 
  select(-c(NPLA, NPT)) |> 
  remove_rows_na() |> 
  column_to_rownames("GEN")

pca <- FactoMineR::PCA(dfgens)
fviz_pca_biplot(pca, repel = TRUE)
```


# Inspecionar
```{r}
df2 <- df |> arrange(desc(length))
df |> 
  slice_max(length, n = 1)
```


# Contagem
```{r}
resultado <- 
df |> 
  group_by(type, img) |> 
  summarise(
    n = n()
  ) |> 
  rename(UNIQUE_ID = img) |> 
  pivot_wider(names_from = type, values_from = n)

# juntar
dffinal <- 
  left_join(dfgens, resultado)
```


# Section info
```{r}
sessionInfo()

```

