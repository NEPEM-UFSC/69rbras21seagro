---
title: "04: MGIDI para seleção de genótipos de Linum usitatissimum no melhoramento genético vegetal"
---

```{r global_options, include = FALSE}
knitr::opts_chunk$set(cache = FALSE,
                      comment = "##",
                      collapse = TRUE,
                      warning = FALSE,
                      message = FALSE)

```



# Pacotes

```{r warning=FALSE, message=FALSE}
library(rio)
library(tidyverse)
library(factoextra)
library(metan)
library(pliman)
dfgens <- import("data/met_2024.xlsx")
cap <- 
  import("data/capsulas.xlsx") |> 
  rename(UNIQUE_ID = img,
         NC = objects)
graos <- 
  import("data/graos.xlsx") |> 
    rename(UNIQUE_ID = img,
         NG = objects)
dfgen <- reduce(list(dfgens, cap, graos), left_join)
export(dfgen, "data/dados_labfoto.xlsx")

```


# Inspecionar
```{r}
df2 <- df |> arrange(desc(length))
df |> 
  slice_max(length, n = 1)
```


# Contagem
```{r}
resultado <- 
df |> 
  group_by(type, img) |> 
  summarise(
    n = n()
  ) |> 
  rename(UNIQUE_ID = img) |> 
  pivot_wider(names_from = type, values_from = n)

# juntar
dffinal <- 
  left_join(dfgens, resultado)
```

# Média dos genótipos
```{r}
dfmedias <- 
dffinal |> 
  group_by(GEN) |> 
  summarise(across(AP:NPT, \(x){(mean(x, na.rm= TRUE))})) |> 
  remove_rows_na()

# MGIDI para 
```


# MGIDI para seleção dos genótipos
```{r}

```


# Section info
```{r}
sessionInfo()

```

